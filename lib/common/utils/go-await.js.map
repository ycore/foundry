{"version":3,"file":"go-await.js","sourceRoot":"","sources":["../../../../src/common/utils/go-await.ts"],"names":[],"mappings":"AAAA,wCAAwC;AACxC;;;;GAIG;AACH,MAAM,CAAC,OAAO,UAAU,EAAE,CAAe,OAAmB,EAAE,QAAiB;IAC7E,MAAM,iBAAiB,GAAG,CAAC,SAAS,EAAE,UAAU,EAAE,cAAc,EAAE,WAAW,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC;IAEpG,OAAO,OAAO;SACX,IAAI,CAAY,CAAC,IAAO,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;SAC1C,KAAK,CAAiB,CAAC,GAAM,EAAE,EAAE;QAChC,KAAK,MAAM,SAAS,IAAI,iBAAiB,EAAE,CAAC;YAC1C,IAAI,OAAO,SAAS,KAAK,UAAU,IAAI,GAAG,YAAY,SAAS,EAAE,CAAC;gBAChE,MAAM,GAAG,CAAC;YACZ,CAAC;QACH,CAAC;QAED,IAAI,QAAQ,EAAE,CAAC;YACb,MAAM,WAAW,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,GAAG,EAAE,QAAQ,CAAC,CAAC;YACrD,OAAO,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;QAClC,CAAC;QAED,OAAO,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;IAC1B,CAAC,CAAC,CAAC;AACP,CAAC","sourcesContent":["// https://github.com/scopsy/await-to-js\n/**\n * @param { Promise } promise\n * @param { Object= } errorExt - Additional Information you can pass to the err object\n * @return { Promise }\n */\nexport default function go<T, U = Error>(promise: Promise<T>, errorExt?: object): Promise<[U, undefined] | [null, T]> {\n  const NATIVE_EXCEPTIONS = [EvalError, RangeError, ReferenceError, SyntaxError, TypeError, URIError];\n\n  return promise\n    .then<[null, T]>((data: T) => [null, data])\n    .catch<[U, undefined]>((err: U) => {\n      for (const Exception of NATIVE_EXCEPTIONS) {\n        if (typeof Exception === 'function' && err instanceof Exception) {\n          throw err;\n        }\n      }\n\n      if (errorExt) {\n        const parsedError = Object.assign({}, err, errorExt);\n        return [parsedError, undefined];\n      }\n\n      return [err, undefined];\n    });\n}\n"]}