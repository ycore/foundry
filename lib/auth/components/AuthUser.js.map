{"version":3,"file":"AuthUser.js","sourceRoot":"","sources":["../../../../src/auth/components/AuthUser.tsx"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,eAAe,EAAE,IAAI,EAAE,MAAM,6BAA6B,CAAC;AAE5E,OAAO,EAAE,IAAI,EAAE,MAAM,cAAc,CAAC;AAEpC,OAAO,EAAE,sBAAsB,EAAE,cAAc,EAAE,MAAM,sBAAsB,CAAC;AAC9E,OAAO,EAAE,iBAAiB,EAAE,MAAM,oCAAoC,CAAC;AAGvE,OAAO,EAAE,eAAe,EAAE,MAAM,wBAAwB,CAAC;AAOzD,MAAM,UAAU,QAAQ,CAAC,EAAE,IAAI,EAAE,UAAU,EAAiB;IAC1D,MAAM,MAAM,GAAG,eAAe,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;IAE/E,OAAO,CACL,4BACG,IAAI,CAAC,CAAC,CAAC,CACN,eAAK,SAAS,EAAC,qBAAqB,aAClC,MAAC,eAAe,IAAC,SAAS,EAAC,kFAAkF,aAC3G,KAAC,eAAe,CAAC,IAAI,8BAAmC,EACxD,KAAC,eAAe,CAAC,OAAO,IAAC,SAAS,EAAC,aAAa,YAAE,IAAI,CAAC,KAAK,GAA2B,EACvF,KAAC,eAAe,CAAC,IAAI,4BAAiC,EACtD,KAAC,eAAe,CAAC,OAAO,cACrB,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CACpB,IAAI,CACL,CAAC,CAAC,CAAC,CACF,MAAC,IAAI,IAAC,MAAM,EAAC,MAAM,EAAC,MAAM,EAAE,MAAM,aAChC,KAAC,sBAAsB,KAAG,EAC1B,KAAC,cAAc,KAAG,EAClB,KAAC,iBAAiB,IAAC,KAAK,EAAC,QAAQ,GAAG,EACpC,KAAC,MAAM,IAAC,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAC,QAAQ,uBAE/B,IACJ,CACR,GACuB,IACV,EAClB,eAAK,SAAS,EAAC,qBAAqB,aAClC,eAAK,SAAS,EAAC,4BAA4B,aACzC,KAAC,IAAI,IAAC,IAAI,EAAE,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,gCAAwB,EACjE,KAAC,IAAI,IAAC,MAAM,EAAC,MAAM,EAAC,MAAM,EAAE,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,YACvD,KAAC,MAAM,IAAC,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAC,QAAQ,+BAE/B,GACJ,IACH,EACN,KAAC,IAAI,IAAC,MAAM,EAAC,MAAM,EAAC,MAAM,EAAE,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,YACxD,KAAC,MAAM,IAAC,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAC,QAAQ,yBAE/B,GACJ,IACH,IACF,CACP,CAAC,CAAC,CAAC,CACF,eAAK,SAAS,EAAC,mHAAmH,aAChI,KAAC,MAAM,IAAC,IAAI,EAAE,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,wBAAkB,EAC7D,KAAC,IAAI,IAAC,IAAI,EAAE,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,wBAAgB,IACrD,CACP,GACA,CACJ,CAAC;AACJ,CAAC","sourcesContent":["import { Button, DescriptionList, Link } from '@ycore/componentry/catalyst';\nimport React from 'react';\nimport { Form } from 'react-router';\n\nimport { AuthenticityTokenInput, HoneypotInputs } from '../../form/vendor.js';\nimport { VerifyActionInput } from '../components/VerifyActionInput.js';\nimport type { AuthConfig } from '../config/config.auth.js';\nimport type { ProtectedUser } from '../config/db/schema.js';\nimport { createVerifyUrl } from '../utils/auth-utils.js';\n\ninterface AuthUserProps {\n  user: ProtectedUser | null;\n  authConfig: AuthConfig;\n}\n\nexport function AuthUser({ user, authConfig }: AuthUserProps) {\n  const action = createVerifyUrl(authConfig.routes.auth.verify, '', user?.email);\n\n  return (\n    <>\n      {user ? (\n        <div className=\"flex flex-col gap-4\">\n          <DescriptionList className=\"min-w-96 gap-4 rounded-3xl border border-gray-200 px-6 py-2 dark:border-gray-700\">\n            <DescriptionList.Term>User email:</DescriptionList.Term>\n            <DescriptionList.Details className=\"text-nowrap\">{user.email}</DescriptionList.Details>\n            <DescriptionList.Term>Verified:</DescriptionList.Term>\n            <DescriptionList.Details>\n              {user.emailVerified ? (\n                'ðŸŸ¢'\n              ) : (\n                <Form method=\"POST\" action={action}>\n                  <AuthenticityTokenInput />\n                  <HoneypotInputs />\n                  <VerifyActionInput value=\"resend\" />\n                  <Button type=\"submit\" className=\"w-full\">\n                    Verify\n                  </Button>\n                </Form>\n              )}\n            </DescriptionList.Details>\n          </DescriptionList>\n          <div className=\"flex flex-col gap-4\">\n            <div className=\"flex justify-between gap-4\">\n              <Link href={authConfig.routes.auth.forgot}>Change Password</Link>\n              <Form method=\"POST\" action={authConfig.routes.auth.delete}>\n                <Button type=\"submit\" className=\"w-full\">\n                  Remove account\n                </Button>\n              </Form>\n            </div>\n            <Form method=\"POST\" action={authConfig.routes.auth.signout}>\n              <Button type=\"submit\" className=\"w-full\">\n                Sign out\n              </Button>\n            </Form>\n          </div>\n        </div>\n      ) : (\n        <div className=\"flex min-w-72 items-center justify-between gap-4 rounded-xl border border-gray-200 px-8 py-4 dark:border-gray-700\">\n          <Button href={authConfig.routes.auth.signin}>Sign In</Button>\n          <Link href={authConfig.routes.auth.signup}>Sign Up</Link>\n        </div>\n      )}\n    </>\n  );\n}\n"]}