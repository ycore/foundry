{"version":3,"file":"toast.js","sourceRoot":"","sources":["../../../src/form/toast.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,OAAO,CAAC;AAGlC,OAAO,EAAE,UAAU,EAAE,MAAM,2BAA2B,CAAC;AACvD,OAAO,EAAqB,KAAK,EAAE,OAAO,EAAE,MAAM,aAAa,CAAC;AAEhE,MAAM,CAAC,KAAK,UAAU,aAAa,CAAC,OAAuB,EAAE,OAAgB;IAC3E,MAAM,WAAW,GAAG,UAAU,CAAC,OAAO,CAAC,CAAC,uBAAuB,CAAC;IAChE,KAAK,CAAC,qBAAqB,CAAC;QAC1B,IAAI,EAAE,UAAU;QAChB,OAAO,EAAE,CAAC,WAAW,CAAC;KACvB,CAAC,CAAC;IAEH,OAAO,MAAM,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;AACvC,CAAC;AAED,MAAM,UAAU,oBAAoB,CAAC,YAAsC;IACzE,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,YAAY,EAAE,CAAC;YACjB,IAAI,YAAY,CAAC,IAAI,KAAK,OAAO,EAAE,CAAC;gBAClC,OAAO,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;YACtC,CAAC;iBAAM,IAAI,YAAY,CAAC,IAAI,KAAK,SAAS,EAAE,CAAC;gBAC3C,OAAO,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;YACxC,CAAC;QACH,CAAC;IACH,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC,CAAC;AACrB,CAAC","sourcesContent":["import { useEffect } from 'react';\nimport type { AppLoadContext } from 'react-router';\n\nimport { contextEnv } from '../common/services/env.js';\nimport { type ToastMessage, toast, toaster } from './vendor.js';\n\nexport async function createToaster(context: AppLoadContext, request: Request) {\n  const toastSecret = contextEnv(context).TOAST_COOKIE_SECRET_KEY;\n  toast.setToastCookieOptions({\n    name: '_message',\n    secrets: [toastSecret],\n  });\n\n  return await toast.getToast(request);\n}\n\nexport function useToastNotification(toastMessage: ToastMessage | undefined) {\n  useEffect(() => {\n    if (toastMessage) {\n      if (toastMessage.type === 'error') {\n        toaster.error(toastMessage.message);\n      } else if (toastMessage.type === 'success') {\n        toaster.success(toastMessage.message);\n      }\n    }\n  }, [toastMessage]);\n}\n"]}